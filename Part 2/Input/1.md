# Evolutionary algorithms for multi-objective flexible job shop cell scheduling

# 2. A flexible job shop cell scheduling problem

# 2.1. Problem description

Although the multi-objective scheduling problems have been widely studied in recent years, there is far less research in the literature on the multi-objective FJCS problems (including SDFSTs and ITTs or not). Hence, this study fills a gap by investigating different approaches to bi-objective FJCS-SDFSTs-ITTs. In this section, we provide a description of the problem.

Let us assume a flexible job shop environment in cellular manufacturing where  $c$  is the set of cells,  $l$  is the set of part families,  $i$  is the set of jobs, and  $q$  is the set of machines. Each job  $i$  includes  $op_i$  operations and each operation has its route to follow through the shop. It could be completely or partially different from the processing route of the other jobs. For each operation  $j$  of job  $i$ , there are identical parallel machines. A job is completed when all of its operations are handled. A cellular manufacturing system includes several manufacturing cells consisting of the different number of machines and allocated for the production of various parts. Each type of machine can process different parts and there are some particular parts referred to as exceptional parts that can move between cells. A work center indicates a production unit where a single or a group of machines can be run at the same time. Identical parallel machines are also allowed. For the reentrant parts, a job may visit a machine or work center more than once requiring the same or a different processing time [13].

Each job has the processing time and a due date representing the desired completion time. Processing time includes the intracellular move time. Those moves are considered as independent from the operation sequence while intercellular transfer times are taken into account because of exceptional parts caused the intercellular movements. Moreover, this study deals with the job shop cell scheduling problem with flexible machines and sequence-dependent family setup times which indicate that the family setup times are determined by the current part family as well as the direct previous part family processed on the same machine. Makespan and the total tardiness time are the objectives of the problem, which are to be minimized simultaneously.

A more formal definition of the FJCS-SDFSTs-ITTs problem is provided as follows [4]. Firstly, we have the following assumptions:

(1) The cells, part families, and layout of cells are known.  
(2) Machine failures and vehicle failures are ignored.  
(3) Input and output buffers are unlimited.  
(4) Each operation can be only assigned to one of the eligible parallel machines.  
(5) The processing time for operations of each part type on a machine is known and fixed.  
(6) The job release times and machine availability times are zero, which means all machines and jobs are available at the beginning of the planning horizon or time zero.  
(7) Intracellular transfer times are ignored.  
(8) Once an operation is treated on a machine, it cannot be interrupted until it is finished (no preemption is allowed).  
(9) Intracellular setup times are included in the operation times.  
(10) Each machine can process at most one operation at the same time.  
(11) All jobs have equal priorities.

We use the following notation for defining FJCS-SDFSTs-ITTs. Indices:

$q$  Machine index  
i Job index  
c Cell index  
l Part family index  
$D_{ij}$  The  $j$ th operation of job  $i$

Parameters:

$m$  The total number of machines  
$n$  The total number of jobs  
C The total number of cells  
$L$  The total number of part families  
$op_{i}$  The total number of operations for job  $i$

$t_{op}$  The total number of all operations  $(\sum_{\forall i} op_i)$

$p_{ijq}$  The processing time of  $j$ th operation of job  $i$  if it is processed by machine  $q$

$t_{cc'}$  Transportation time from cell  $c$  to cell  $c'$

$s_{ll^{\prime}}$  Setup time for part family  $l^{\prime}$  if processed immediately after part family  $l$

$x_{qc}$  1, if machine  $q$  is located in cell  $c$  and 0 otherwise

$y_{il}$  1, if job  $i$  belongs to part family  $l$  and 0 otherwise

$r_{ijq}$  1, if operation  $j$  of job  $i$  is processed on machine  $q$  among eligible machines, and 0, otherwise

$d_{i}$  The due date of job  $i$

Q A large positive number

# Decision variables:

$C_{ijq}$  The completion time of  $j$ th operation of job  $i$  on machine  $q$ $u_{ijq}$  1, if operation  $j$  of job  $i$  is processed on machine  $q$  in a flexible environment, and 0, otherwise

$z_{iji'j'q}$  1, if  $j$ th operation of job  $i$  precedes  $j'$ th operation of job  $i'$  on machine  $q$ , and 0, otherwise

$C_{max}$  Makespan

$T_{i}$  The tardiness of job  $i$

The bi-objective problem of FJCS-SDFSTs-ITTs requires optimization of makespan (Eq. (1)) and total tardiness (Eq. (2)) simultaneously subject to the following constraints.

$$
\min  \left\{C _ {\max } \right\} \text {a n d} \tag {1}
$$

$$
\min  \left\{\sum_ {i = 1} ^ {n} T _ {i} \right\}, \tag {2}
$$

$$
\sum_ {q = 1} ^ {m} u _ {i j q} = 1, \quad \forall i, j \tag {3}
$$

$$
u _ {i j q} \leq r _ {i j q}, \quad \forall i, j, q \tag {4}
$$

$$
\begin{array}{l} \sum_ {q = 1} ^ {m} u _ {i j q} C _ {i j q} \geqslant \sum_ {q = 1} ^ {m} \sum_ {q ^ {\prime} = 1} ^ {m} u _ {i j q} u _ {i (j - 1) q ^ {\prime}} \left(C _ {i (j - 1) q ^ {\prime}} + p _ {i j q} \right. \\ + \sum_ {c = 1} ^ {C} \sum_ {c ^ {\prime} = 1} ^ {C} x _ {q c} x _ {q ^ {\prime} c ^ {\prime}} t _ {c ^ {\prime} c}), \quad \forall i, j \geq 2 \tag {5} \\ \end{array}
$$

$$
\begin{array}{l} C _ {i j q} \geqslant C _ {i ^ {\prime} j ^ {\prime} q} + \sum_ {l = 1} ^ {L} \sum_ {l ^ {\prime} = 1} ^ {L} y _ {i ^ {\prime} l ^ {\prime}} y _ {i l} s _ {l ^ {\prime} l} - Q z _ {i j i ^ {\prime} j ^ {\prime} q} + p _ {i j q} \\ - Q \left(2 - u _ {i j q} - u _ {i ^ {\prime} j ^ {\prime} q}\right), \forall i \geq 2, j, q, i ^ {\prime}, j ^ {\prime}, i \neq i ^ {\prime} \tag {6} \\ \end{array}
$$

$$
\begin{array}{l} C _ {i ^ {\prime} j ^ {\prime} q} \geqslant C _ {i j q} + \sum_ {l = 1} ^ {L} \sum_ {l ^ {\prime} = 1} ^ {L} y _ {i l} y _ {i ^ {\prime} l ^ {\prime}} s _ {l l ^ {\prime}} - Q \left(1 - z _ {i j i ^ {\prime} j ^ {\prime} q}\right) + p _ {i ^ {\prime} j ^ {\prime} q} \\ - Q \left(2 - u _ {i j q} - u _ {i ^ {\prime} j ^ {\prime} q}\right), \forall i \geq 2, j, q, i ^ {\prime}, j ^ {\prime}, i \neq i ^ {\prime} \tag {7} \\ \end{array}
$$

$$
C _ {i j q} \geqslant p _ {i j q}, \quad \forall i, j, q \tag {8}
$$

$$
C _ {m a x} \geqslant C _ {i j q}, \quad \forall i, j, q \tag {9}
$$

$$
T _ {i} \geqslant C _ {i j q} - d _ {i}, \quad \forall i, j, q \tag {10}
$$

$$
C _ {i j q}, C _ {i ^ {\prime} j ^ {\prime} q}, T _ {i} \geqslant 0, z _ {i j i ^ {\prime} j ^ {\prime} q}, u _ {i j q} \in \{0, 1 \}, \quad \forall i, j, q, i ^ {\prime}, j ^ {\prime} \tag {11}
$$

Eq. (3) forces exactly one machine alternative to be selected for each operation  $j$  of job  $i$ . Eq. (4) determines the capable machines for each operation.  $r_{ijq}$  determines whether the operation  $j$  of job  $i$  is processed on machine  $q$  or not. For example, if the  $j$ th operation of job  $i$  does not get processed on machine 4, the  $r_{ij4}$  parameter is set to 0 in Eq. (4). The value of  $u_{ijq}$  depends on the value of  $r_{ij4}$  and in this case,  $u_{ij4}$  also gets assigned to 0. Eq. (5) ensures that each part is processed depending on the defined precedence of its operations and intercellular transportation times. Eqs. (6) and (7) guarantee that at most, one part is processed by each


${}^{a}$  Value in parentheses shows that there are two identical parallel machines for machines 2 and 3 if the problem is in the flexible environment. There is no available identical machine in the job shop environment.

${}^{\mathrm{b}}{M}_{1}$  is an eligible machine for the 1st operation of job 1,since  ${P}_{1}$  should be processed first based on the given routing on machine 1. Thus,the  ${r}_{{111}}$  parameter is set to 1 in Equation (4).

machine at a time considering the setup times for the part family. Eq. (8) imposes that the completion time of an operation cannot be less than its processing time. Eqs. (9) and (10) calculate the makespan and the tardiness of each job, respectively. Eq. (11) define the binary decision variables.

For illustration purposes, let us use the FJCS-SDFSTs-ITTs problem instance#5 (see Table 5) as an example, for further explanation of our problem. As characterized in Tables 1 and 2, there are 4 parts and 4 machines in instance#5. The parts are grouped into 2 part families, each containing 2 items. The machines are also grouped into 2 cells, both containing 2 machines.

As an example, Table 1 shows that  $P_{2}$  with the due date of 77 belongs to the first part family requiring a processing time of 4 on  $M_{2}$ . The machine  $M_{2}$  is in the first cell and there are two identical parallel machines. The operations for manufacturing the part  $P_{2}$  should be routed through the machines  $M_{2}, M_{1}$ , and then  $M_{2}$  in that order. Although this is not relevant to  $P_{2}$ , Table 2 contains the required transportation times for the movement of operations between cells. For example, if an operation goes from the first cell to the second cell, that would require 3 units of time. The machine setup times are also provided in the table. So, for example, if a part  $P_{2}$  operation is scheduled to a machine that just completes the processing of operation for a part belonging to the second part family, then a setup time of 4 units of time will be required by that machine.

Fig. 1 provides a feasible solution to instance#5. In the figure, each operation for the jobs 1, 2, 3, and 4 are indicated as solid red, solid black, dashed red, and dashed black line, respectively. The arrows show the direction of the routing sequence. The processing time of an operation is displayed above each line. The transportation and setup times are also shown over the forklift and gear icons, respectively. Let us illustrate how we compute the objective values based on that solution starting with the partial fitness calculation for part 1  $(P_{1})$ . Reading the data depicted in Fig. 5 from left to right, it is observed that  $O_{11}$  is the second job of  $M_{1}$  as shown in Fig. 2(a). Since it is in the same part family with the first job  $(P_{2})$  of  $M_{1}$ , part family setup time between them is zero. Therefore,  $P_{1}$  processes on  $M_{1}$  with just its processing time. For the second process of this part, it is attained to  $M_{2}^{2}$  which is one of the identical parallel machines. This part visits  $M_{2}^{2}$  after  $P_{2}$  completes. After that, it is transferred to  $M_{3}^{1}$  which is one of the identical parallel machines in Cell 2 and the first

part of  $M_3^1$  which will be processed. In addition to its processing time, there is also transportation time between cells as shown in Fig. 2(b). As the fourth process,  $P_1$  visits  $M_2^1$  in Cell 1 which  $P_3$  was processed before. In addition to its processing time, both transportation and part family setup times are added to the objective value of makespan (see Eq. (1)) because there is both intercellular movement between cells and setup process between part families. According to this, makespan is obtained as 34 as shown in Fig. 2. The tardiness (see Eq. (2)) of each job is computed considering the completion time of each job and its due date. The tardiness of the third job (part) is computed as 17 because it is completed at 20 (see Fig. 2(b)) and its due date is 3 (see Table 1), while the other jobs do not have any tardiness. The total tardiness objective value is obtained with the tardiness of all jobs which yields 17 for this problem instance.
